--- smb4k-0.10.4/utilities/smb4k_sudowriter.cpp.orig	2009-10-01 16:57:54.000000000 +0200
+++ smb4k-0.10.4/utilities/smb4k_sudowriter.cpp	2009-10-24 12:09:10.216653926 +0200
@@ -527,7 +527,7 @@
       contents.append( "# Entries for Smb4K users." );
       contents.append( "# Generated by Smb4K. Please do not modify!" );
       contents.append( "User_Alias\tSMB4KUSERS = "+QString( "%1" ).arg( adduser.join( "," ) ) );
-      contents.append( "Defaults:SMB4KUSERS\tenv_keep += \"PASSWD USER\"" );
+      contents.append( "Defaults:SMB4KUSERS\tenv_keep += \"PASSWD USER\", !requiretty" );
       contents.append( "SMB4KUSERS\t"+hostname+" = NOPASSWD: "
                        +KGlobal::dirs()->findResource( "exe", "smb4k_kill" ) );
       contents.append( "SMB4KUSERS\t"+hostname+" = NOPASSWD: "
